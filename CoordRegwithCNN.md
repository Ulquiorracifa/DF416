---
typora-root-url: pic 
---





#### Main i dea

###### 常用的：

- 全连接层（缺泛化）

  全连接层会丢失空间一般化特性

  CNN（带全连接层）→FCN（不带全连接层）

  而FCN存在空间一般化特性和端到端特性

  本文的DSNT层把FCN的两个特性和 坐标定位空间热图结合。

- 高斯热图（非全微分）



##### DSNT：

###### 解决

- 全连接破坏空间，过拟合
- 高斯热图输出维度大；存在理论下届；MSE LOSS学习出偏移；不是全微分

**本文设计和目前高斯热图预测主要区别是我们并不是强制要求一个loss直接作用到高斯预测热图上**

通过优化整个模型输出的预测坐标的损失来间接学习热图，也就是loss是基于预测关键点和真实关键点的

->(batch,h,w,3)->(batch,h/4,w/4,17):17对关键点回归->(batch,17,2):17对关键点的(x,y)



###### 从热图到(x,y)坐标转换的方式：

![1558704831859](/../pic/1558704831859.png)



其中，X，Y的分布由：

![1558705065285](/../pic/1558705065285.png)

![1558705076923](/../pic/1558705076923.png)

得到。其实就是期望均值到分布位置。



#### loss function

![1558705426334](/../pic/1558705426334.png)

而后可以加入正则项帮助并行监督热图回归。（方差正则、KL散度，Jensen-Shannon）



##### 试验问题：

resize固定倍率->怎么放入input













#### FCN与CNN差别：

全卷积网络(FCN)是从抽象的特征中恢复出每个像素所属的类别。即从图像级别的分类进一步延伸到像素级别的分类。通过替换网络结构最后的全连接层，将最后的卷积层结果通过上采样，实现对每个像素位置的预测（语义分割预测）



###### ![pascal数据集的FCN网络结构](/../pic/20160508234037674)

​	 虚线下的内容：从不同阶段的的几个预测层中联合预测定位每个像素点的分类结果。（上采样存在裁剪）最后的卷基层输出转化为对每个类别的可能性。然后从这类别数张预测图中找argmax，就是该位置的最大类别可能性。



##### 上采样过程：

![反卷积-上采样过程](/../pic/20160510150910165)

stride表示步长。



###### 在训练过程中，从最后一层输出开始，一步步融入上一个pooling的预测结果来训练上采样提取细节。

![FCN不同倍上采样分析结果](/../pic/20160511111507947)



##### 存在问题：



1. FCN-8s仍然不够精细（有待提升）
2. 空间之间的相互分布关系（大步长每个点阵之间的关系较小，点阵内的预测通过上采样分布倒是一致 ）





